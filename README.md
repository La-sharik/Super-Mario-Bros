# Долгосрочное домашнее задание (игра "Марио")

## Этап I
Время на этап: **18 часов**

### Цель

Необходимо разработать игру для одного пользователя против компьютера. Правила для различных вариантов игры можно найти в интернете (например, в Википедии) и ниже в ТЗ.

### Задание

На этом этапе необходимо реализовать desktop-приложение c графической отрисовкой процесса и реализацией основной логики игры.

#### Функционал, который должен быть реализован:
1. Игровое меню
    * кнопка **Начать** - открывает новое окно с настройками игры:
        * выбор **уровня(1 - 3)**
        * кнопка "Начать игру"
    * кнопка **Выход** - выдаёт диалоговое окно "Хотите выйти из игры?" с вариантами действий по выходу из игры или возврату в игру.
2. Игровой процесс
    * отрисовка юнитов, текстур и прептствий на экране, создание физики и правил(ограничений) игры, передвижения юнитов
    * удаление юнита после смерти (реализация одного из правил игры)
    * реализация изменений юнита "Марио"
    * реализация алгоритма поведения бота-противника (вражеских юнитов)
    * реализация алгоритма определения конца игры
    * реализация досрочного окончания игры (в случае смерти "Марио")
    * запрос статистики  и её визуализация
    * возможность поставить игру на паузу с отображением **диалогового окна**:
        * кнопка **Возобновить игру**
        * кнопка **Выйти из игры** - возврат в основное меню программы
        * кнопка **Рестарт** - запуск уровня заново
    * визуальная часть:
        * отображение **времени** игры
        * отображение **счёта** игры
        * отображение **уровня**
        * отображение **количества жизней**
    * по завершении игры вывод **диалогового окна**:
        * **счёт игры**
        * кнопки **Выход** или **Продолжить**
    * логика игры:
        * **Базовые правила для всех вариантов игры:**
            - "Марио" появляется в левом краю уровня.
            - "Марио" умеет бегать влево и вправо и прыгать.
            - Для прохождения уровня необходимо довести "Марио" до крепости у правого края карты.
            - Для прохождения игры необходимо пройти все уровни.
            - Изначально у "Марио" 3 жизни, но походу игры можно собрать бонусный гриб, увеличивающий модельку "Марио" и дарующий возможность пережить столкновение с одним любым вражеским юнитом.
            - Существуют три типа вражеских юнитов: черепаха, злой гриб и растение.
            - Если наступить на черепаху, на её месте остоётся панцырь. Если на него наступить, то он полетит в сторону, сбивая всех вражеских юнитов.
            - Черепаху и злой гриб можно убить прыгнув сверху или сбить панцырем, за это игрок получает 100 очков.
            - Смертью для "Марио" является падение вниз, касание с боку черепахи или злого гриба или касание растения.
            - Если у вас кончатся жизни игра закончатся, то открывается диалоговое окно.
            - "Марио" умеет ломать только кирпичи с помощью прыжка.
            - "Марио" умеет выбивать награды из бонусного ящика с помощью прыжка.
            - Бонусы из бонусного ящика: цветочек, монетка, гриб.
            - Гриб можно съесть только один раз, после вместо грибов будут появлятся цветочки. Если игрок потерял свойство гриба, он сможет съесть ещё, но только один.
            - Монетки увеличивают счёт игрока на 200 и могут появиться при уничтожении крпичей или бонусных блоков.
            - Цветочки увеличивают счёт игрока на 1000 и могут появиться при уничтожении бонусных блоков, и если у игрока есть свойство гриба.
            - Перед крепостью стоит флагшок. Если снять с него флаг, можно получить 100 очков.
            - Чем быстрее игрок пройдёт уровень, те больше он получит бонусных очков за время.
            - Если игрок не укладывается в 400 секунд, то он проиграл.
3. Конфигурация игры
    * все важные настройки игры хранить в файлах в любом удобном формате   
    * в настрйоках должна содержаться вся информация из вкладки **Настройки** игрового меню и различные параметры игрового процесса: уровень и т.д. При этом, в случае если конфигурационный файл отсутствует, необходимо прописать в коде **настройки по умолчанию**, либо иным разумным способом обработать эту ситуацию

### Командная разработка

Далее пошагово представлен **пример** процесса реализации игры на этапе I. Каждый из членов команды выбирает себе задание,
согласовав этот шаг разработки с остальными участниками команды. Шаги разработки составлены так, что **лучше всего** для команды — полностью закрыть все задачи **конкретного** шага, прежде чем переходить к **следующему** шагу (тут вам потребуется командная работа).

На каждом шаге разработки ожидается **очевидный** промежуточный результат от команды. Команда должна иметь возможность отчитаться в любой момент о состоянии дел по разработке игры. Основное ТЗ можно посмотреть ещё раз
[тут](#функционал-который-должен-быть-реализован), подробное ТЗ будет расписано в каждом шаге.

#### Шаги разработки:

1. Время на работу: **6 часов**  

   * **Разработка макета визуальной части процесса игры и части главного меню**.  

     Необходимо разработать подробный макет (в любом из доступных средств визуализации макетов) основного экрана игры.
     На экране должны быть:
     * **время игры**
     * **счёт игры**
     * **количество жизней**
     * **счётчик уровня**
     * сама **карта**, по которой будут передвигаться юниты (которые, разумеется, также необходимо отобразить). Очевидно, что всё это должно лаконично смотреться и не "накладываться" друг на друга.

     Для каждой отдельной кнопки меню необходимо сделать "подсвечивание" кнопки.

   * **Разработка основного меню игры**.  

     Необходимо разработать основное меню игры с кнопками: **Начать**, **Настройки** и **Выход** с указанным ранее функционалом.

     Для работы с настройками и их хранением в файле реализовать отдельный класс/модель для удобства работы.         

   Для этого шага разработки **результатом** является готовое меню с фоном. Каждая кнопка должна открывать своё окно, а все прописываемые в окнах параметры должны записываться в соответствующие поля конфигурационного файла или переменные программы, если их нет смысла хранить в файле.

2. Время на работу: **6 часов**  

   * **Визуализация окна игры**  

     На этом шаге необходимо отобразить на экран всё то, что было нанесено на макет на предыдущем шаге. На экране могут быть "заглушки". Главное, чтобы был реализован такой функционал, который позволит другому члену команды использовать прописанные игроками параметры (имена, цвета и т.д.), чтобы связать визуализацию с логикой.  

   * **Привязка визуальной составляющей к логике игры**  

     Необходимо написать функционал, который позволяет получать параметры, вводимые игроками на предыдущем шаге, чтобы использовать их для визуализации на экране и для реализации логики игры. Здесь необходимо параллельное взаимодействие двух членов команды, чтобы по итогу полученные на предыдущем шаге параметры  игроков корректно отображались на экране игры.  

   * **Написание логики передвижения юнитов игрока и бота для одного из вариантов игры**

     Необходимо написать функционал, который отображает на экране юнитов игрока и бота и позволяет им двигаться в соответствии с правилами. Необходимо написать функционал, позволяющий управлять юнитом игрока на карте. Также требуется учесть свойство гриба и его изменения модельки юнита игрока.

   Для этого шага разработки **результатом** является основное окно игры с отображенными параметрами на экране: время игры, счет, номер уровня, количество жизней; карта с юнитами игрока и бота на ней.
   Также должна быть реализована логика передвижения юнитов игрока и бота с возможностью управления.

3. Время на работу: **6 часов**

   * **Реализация поведения бота**

     Необходимо реализовать механику движения злого гриба: ходить из стороны в сторону. Ограничения: стена или любой другой блок.

     Необходимо реализовать механику движения черепахи: ходить из стороны в сторону. Ограничения: стена или любой другой блок, пропасть.

     Необходимо реализовать механику движения растения: периодично вылезать из трубы.

   * **Реализация диалогового окна паузы**  

     Необходимо реализовать диалоговое окно, которое будет появляться при нажатии клавиши "ESC". В диалоговом окне необходимо отобразить информацию и кнопки, представленные ранее в ТЗ.

   * **Реализация диалогового окна по завершении игры**  

     Необходимо написать диалоговое окно, которое вызывается в случае завершения игры или раунда. При этом, для двух ситуаций диалоговые окна отличаются. В случае, когда был сыгран один из раундов (когда играется многораундовая игра), но не конечный, отображается временное окно, в котором указывается:
       * **счёт игры**

     В случае, когда сыгран gjcktlybq **ejdtym** игры, необходимо показывать диалоговое окно, в котором указывается:
       * **статистика** победителя игры
       * **счёт игры**
       * кнопка **Выйти из игры**, возвращающая игрока в главное меню
       * кнопка **Рестарт**, начинающая игру с самого начала, сохраняя все заданные параметры, но обнуляя счет, время и т.п.

   Для этого шага разработки **результатом** является реализованная логика передвижения шашек игроков для *ВСЕХ* вариантов игры, а также вывод всех сопутствующих **работающих** диалоговых окон в случае завершения игры/раунда или паузы (нажатие на клавишу "ESC"). При этом, должно работать изменение оформления доски и шашек, задаваемое в **Настройках** игры, а также изменение счётчика раундов и счёта (в случае многораундовой игры). На этом шаге игра должна выглядеть готовой для комфортной **быстрой** или **многораундовой** игры.


## Этап II
Время на этап: **18 часов**

### Цель

Необходимо разработать многопользовательскую (на 2 игрока) версию игры.

В этот этап необходимо включить:
* Выбор количество игроков - 1 или 2 при начале игры
* победитель будет опрелеятся по коичеству очков, если оба прошли уровень.
* Запись статистики в отдельный файл по игрокам и вывод статистики при нажатии клавиши **Статистика** в главном меню

Функционал и задачи определить самостоятельно аналогично первому этапу. Второй этап — это развитие первого этапа в многопользовательском режиме.
